<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard</title>
    <link href="/css/styles.css" rel="stylesheet">
</head>
<body class="bg-gray-100 flex h-[100vh]">

    <!-- Sidebar -->
    <aside class="bg-black text-white w-64 pl-4 py-6">
        <div class="text-3xl font-bold mb-6 pl-4 mt-4">FIME</div>
        <nav class="space-y-4">
            <% tables.forEach(table => { %>
                <a href="/dashboard/<%= table %>" class="block py-2 px-4 rounded hover:bg-gray-700"><%= table.toUpperCase() %></a>
            <% }) %>
        </nav>
        <div class="mx-auto">
            <a href="/profile">
                <button class="mt-8 mb-2 ml-10 text-white flex items-center space-x-2">Atras 
                    <svg class="h-4 w-4 ml-2" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" stroke="#ffffff"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <path d="M4 10L3.64645 10.3536L3.29289 10L3.64645 9.64645L4 10ZM20.5 18C20.5 18.2761 20.2761 18.5 20 18.5C19.7239 18.5 19.5 18.2761 19.5 18L20.5 18ZM8.64645 15.3536L3.64645 10.3536L4.35355 9.64645L9.35355 14.6464L8.64645 15.3536ZM3.64645 9.64645L8.64645 4.64645L9.35355 5.35355L4.35355 10.3536L3.64645 9.64645ZM4 9.5L14 9.5L14 10.5L4 10.5L4 9.5ZM20.5 16L20.5 18L19.5 18L19.5 16L20.5 16ZM14 9.5C17.5898 9.5 20.5 12.4101 20.5 16L19.5 16C19.5 12.9624 17.0376 10.5 14 10.5L14 9.5Z" fill="#222222"></path> </g>
                    </svg>
                </button>
            </a>
        </div>
    </aside>

    <!-- Main Content -->
    <main class="flex-grow pt-10 px-20">
        <div class="bg-white p-6 rounded-lg shadow-lg mb-12 h-[50vh] w-full">
            <!-- Header with profile icon -->
        <div class="flex items-center justify-end">           
            <!-- Profile icon -->
            <a href="/profile" class="bg-gray-300 rounded-full h-12 w-12 flex items-center justify-center ml-4">
                <!-- Profile Icon -->
                <svg fill="#000000" height="30px" width="30px" version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" 
                    viewBox="0 0 482.9 482.9" xml:space="preserve">
                <g>
                    <g>
                        <path d="M239.7,260.2c0.5,0,1,0,1.6,0c0.2,0,0.4,0,0.6,0c0.3,0,0.7,0,1,0c29.3-0.5,53-10.8,70.5-30.5
                            c38.5-43.4,32.1-117.8,31.4-124.9c-2.5-53.3-27.7-78.8-48.5-90.7C280.8,5.2,262.7,0.4,242.5,0h-0.7c-0.1,0-0.3,0-0.4,0h-0.6
                            c-11.1,0-32.9,1.8-53.8,13.7c-21,11.9-46.6,37.4-49.1,91.1c-0.7,7.1-7.1,81.5,31.4,124.9C186.7,249.4,210.4,259.7,239.7,260.2z
                            M164.6,107.3c0-0.3,0.1-0.6,0.1-0.8c3.3-71.7,54.2-79.4,76-79.4h0.4c0.2,0,0.5,0,0.8,0c27,0.6,72.9,11.6,76,79.4
                            c0,0.3,0,0.6,0.1,0.8c0.1,0.7,7.1,68.7-24.7,104.5c-12.6,14.2-29.4,21.2-51.5,21.4c-0.2,0-0.3,0-0.5,0l0,0c-0.2,0-0.3,0-0.5,0
                            c-22-0.2-38.9-7.2-51.4-21.4C157.7,176.2,164.5,107.9,164.6,107.3z"/>
                        <path d="M446.8,383.6c0-0.1,0-0.2,0-0.3c0-0.8-0.1-1.6-0.1-2.5c-0.6-19.8-1.9-66.1-45.3-80.9c-0.3-0.1-0.7-0.2-1-0.3
                            c-45.1-11.5-82.6-37.5-83-37.8c-6.1-4.3-14.5-2.8-18.8,3.3c-4.3,6.1-2.8,14.5,3.3,18.8c1.7,1.2,41.5,28.9,91.3,41.7
                            c23.3,8.3,25.9,33.2,26.6,56c0,0.9,0,1.7,0.1,2.5c0.1,9-0.5,22.9-2.1,30.9c-16.2,9.2-79.7,41-176.3,41
                            c-96.2,0-160.1-31.9-176.4-41.1c-1.6-8-2.3-21.9-2.1-30.9c0-0.8,0.1-1.6,0.1-2.5c0.7-22.8,3.3-47.7,26.6-56
                            c49.8-12.8,89.6-40.6,91.3-41.7c6.1-4.3,7.6-12.7,3.3-18.8c-4.3-6.1-12.7-7.6-18.8-3.3c-0.4,0.3-37.7,26.3-83,37.8
                            c-0.4,0.1-0.7,0.2-1,0.3c-43.4,14.9-44.7,61.2-45.3,80.9c0,0.9,0,1.7-0.1,2.5c0,0.1,0,0.2,0,0.3c-0.1,5.2-0.2,31.9,5.1,45.3
                            c1,2.6,2.8,4.8,5.2,6.3c3,2,74.9,47.8,195.2,47.8s192.2-45.9,195.2-47.8c2.3-1.5,4.2-3.7,5.2-6.3
                            C447,415.5,446.9,388.8,446.8,383.6z"/>
                    </g>
                </g>
                </svg>
            </a>
        </div>
            <div class="w-full h-[35vh] overflow-x-auto">
                <canvas id="usersChart" class="w-full mx-auto"></canvas>
            </div>
        </div>

        <!-- Dashboard Content -->
        <div class="grid grid-cols-3 gap-8">
            <div class="bg-black text-white p-8 rounded shadow">
                <h3 class="text-xl font-bold">USUARIOS</h3>
                <p class="text-3xl mt-4"><%= datosDashboard.totalUsuarios %></p>
            </div>
            <div class="bg-black text-white p-8 rounded shadow">
                <h3 class="text-xl font-bold">MAESTROS</h3>
                <p class="text-3xl mt-4"><%= datosDashboard.totalMaestros %></p>
            </div>
            <div class="bg-black text-white p-8 rounded shadow">
                <h3 class="text-xl font-bold">MATERIAS</h3>
                <p class="text-3xl mt-4"><%= datosDashboard.totalMaterias %></p>
            </div>
            <div class="bg-black text-white p-8 rounded shadow">
                <h3 class="text-xl font-bold">REPORTES</h3>
                <p class="text-3xl mt-4"><%= datosDashboard.totalReportes %></p>
            </div>
            <div class="bg-black text-white p-8 rounded shadow">
                <h3 class="text-xl font-bold">COMENTARIOS</h3>
                <p class="text-3xl mt-4"><%= datosDashboard.totalComentarios %></p>
            </div>
        </div>
        
    </main>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src='/js/dashboard.js' ></script>

</body>
</html>
